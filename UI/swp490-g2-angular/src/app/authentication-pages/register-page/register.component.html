<div class="register-container">
  <!-- #form is a viewChild in Angular -->
  <form
    #form="ngForm"
    class="surface-card p-4 shadow-2 border-round w-full lg:w-6"
    (ngSubmit)="register()"
  >
    <div class="text-center mb-5">
      <div class="text-900 text-3xl font-medium mb-3">
        Register a new account
      </div>
    </div>

    <div>
      <label for="email" class="block text-900 font-medium my-2">Email*</label>
      <input
        id="email"
        type="text"
        pInputText
        class="w-full mb-1"
        name="email"
        ngModel
      />
      <div
        class="flex align-items-center gap-1"
        *ngIf="form.controls['email']?.dirty && form.controls['email']?.errors"
      >
        <i class="pi pi-times-circle text-danger"></i>
        <small class="text-danger"> Enter a valid email address! </small>
      </div>

      <app-password-fields></app-password-fields>

      <label for="phoneNumber" class="block text-900 font-medium my-2"
        >Phone number*</label
      >
      <input
        id="phoneNumber"
        type="text"
        pInputText
        class="w-full mb-1"
        name="phoneNumber"
        ngModel
      />

      <div
        class="flex align-items-center gap-1"
        *ngIf="
          form.controls['phoneNumber']?.dirty &&
          form.controls['phoneNumber']?.errors
        "
      >
        <i class="pi pi-times-circle text-danger"></i>
        <small class="text-danger"> Enter a valid phone number! </small>
      </div>
      <button
        pButton
        pRipple
        label="Register"
        icon="pi pi-user"
        class="w-full mt-3"
        [disabled]="registerButtonDisabled"
      ></button>
    </div>
    <app-code-validator
      *ngIf="codeValidatorDialogVisible"
      [email]="form.value.email"
      [password]="form.value.password"
    ></app-code-validator>
  </form>
</div>
